/*!
 * spritz.js 1.0.0 - A small, modern, dependency-free sprites animation library.
 * Copyright (c) 2016 maoosi <hello@sylvainsimao.fr> - https://github.com/maoosi/spritz.js
 * License: MIT
 */!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Spritz=n()}}(function(){var n;return function t(n,e,r){function i(u,s){if(!e[u]){if(!n[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=e[u]={exports:{}};n[u][0].call(c.exports,function(t){var e=n[u][1][t];return i(e?e:t)},c,c.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof e?e.exports=i():"function"==typeof n&&n.amd?n(i):t.Knot=i()}(this,function(){"use strict";var n={};n["extends"]=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n};var t=function(){function t(n,t){return u[n]=u[n]||[],u[n].push(t),this}function e(n,e){return e._once=!0,t(n,e),this}function r(n){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return t?u[n].splice(u[n].indexOf(t),1):delete u[n],this}function i(n){for(var t=this,e=arguments.length,i=Array(e>1?e-1:0),o=1;e>o;o++)i[o-1]=arguments[o];var s=u[n]&&u[n].slice();return s&&s.forEach(function(e){e._once&&r(n,e),e.apply(t,i)}),this}var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u={};return n["extends"]({},o,{on:t,once:e,off:r,emit:i})};return t})},{}],2:[function(n,t,e){"use strict";t.exports=n("./lib/index")},{"./lib/index":6}],3:[function(n,t,e){"use strict";function r(){f=!1}function i(n){if(!n)return void(c!==h&&(c=h,r()));if(n!==c){if(n.length!==h.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. You submitted "+n.length+" characters: "+n);var t=n.split("").filter(function(n,t,e){return t!==e.lastIndexOf(n)});if(t.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. These characters were not unique: "+t.join(", "));c=n,r()}}function o(n){return i(n),c}function u(n){p.seed(n),d!==n&&(r(),d=n)}function s(){c||i(h);for(var n,t=c.split(""),e=[],r=p.nextValue();t.length>0;)r=p.nextValue(),n=Math.floor(r*t.length),e.push(t.splice(n,1)[0]);return e.join("")}function a(){return f?f:f=s()}function l(n){var t=a();return t[n]}var c,d,f,p=n("./random/random-from-seed"),h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={characters:o,seed:u,lookup:l,shuffled:a}},{"./random/random-from-seed":9}],4:[function(n,t,e){"use strict";function r(n){var t=i.shuffled();return{version:15&t.indexOf(n.substr(0,1)),worker:15&t.indexOf(n.substr(1,1))}}var i=n("./alphabet");t.exports=r},{"./alphabet":3}],5:[function(n,t,e){"use strict";function r(n,t){for(var e,r=0,o="";!e;)o+=n(t>>4*r&15|i()),e=t<Math.pow(16,r+1),r++;return o}var i=n("./random/random-byte");t.exports=r},{"./random/random-byte":8}],6:[function(n,t,e){"use strict";function r(){var n="",t=Math.floor(.001*(Date.now()-p));return t===a?s++:(s=0,a=t),n+=c(l.lookup,h),n+=c(l.lookup,m),s>0&&(n+=c(l.lookup,s)),n+=c(l.lookup,t)}function i(n){return l.seed(n),t.exports}function o(n){return m=n,t.exports}function u(n){return void 0!==n&&l.characters(n),l.shuffled()}var s,a,l=n("./alphabet"),c=n("./encode"),d=n("./decode"),f=n("./is-valid"),p=1459707606518,h=6,m=n("./util/cluster-worker-id")||0;t.exports=r,t.exports.generate=r,t.exports.seed=i,t.exports.worker=o,t.exports.characters=u,t.exports.decode=d,t.exports.isValid=f},{"./alphabet":3,"./decode":4,"./encode":5,"./is-valid":7,"./util/cluster-worker-id":10}],7:[function(n,t,e){"use strict";function r(n){if(!n||"string"!=typeof n||n.length<6)return!1;for(var t=i.characters(),e=n.length,r=0;e>r;r++)if(-1===t.indexOf(n[r]))return!1;return!0}var i=n("./alphabet");t.exports=r},{"./alphabet":3}],8:[function(n,t,e){"use strict";function r(){if(!i||!i.getRandomValues)return 48&Math.floor(256*Math.random());var n=new Uint8Array(1);return i.getRandomValues(n),48&n[0]}var i="object"==typeof window&&(window.crypto||window.msCrypto);t.exports=r},{}],9:[function(n,t,e){"use strict";function r(){return o=(9301*o+49297)%233280,o/233280}function i(n){o=n}var o=1;t.exports={nextValue:r,seed:i}},{}],10:[function(n,t,e){"use strict";t.exports=0},{}],11:[function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("knot.js"),o=r(i),u=n("shortid"),s=r(u);e["default"]=function(){function n(n){return new Promise(function(t,e){t(n.forEach(function(n){return n()}))})}function t(){A.columns=Math.ceil(z.steps/z.rows),_=100*A.columns,A.width=z.width/A.columns,A.width=(Math.round(1e3*A.width/10)/100).toFixed(2),A.height=z.height/z.rows,A.height=(Math.round(1e3*A.height/10)/100).toFixed(2),A.padding=100*A.height*100/(100*A.width)}function e(){null===E&&(E=document.createElement("div"),document.querySelector(z.container).appendChild(E).setAttribute("id","spritz-"+M))}function r(){if(i()&&z.mask!==!1&&null===S){var n='\n            <svg id="spritz-svg-'+M+'" preserveAspectRatio="xMinYMin" width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+A.width+" "+A.height+'">\n                <defs>\n                    <mask id="spritzTopMask">\n                        <image width="'+z.width+'" height="'+z.height+'" xlink:href="'+z.mask+'"></image>\n                    </mask>\n                </defs>\n                <image mask="url(#spritzTopMask)" id="spritzTop" width="'+z.width+'" height="'+z.height+'" xlink:href="'+z.src+'"></image>\n            </svg>\n            ';document.querySelector("#spritz-"+M).innerHTML=n,S=document.querySelector("#spritz-svg-"+M)}}function i(){return!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}function u(){x(z.initial)}function a(){if(null===C&&null!=O){var n="",t="",e="";z.responsive===!0?(n+="\n                position: relative;\n                width: 100%;\n                ",e+="\n                #spritz-"+M+"::after {\n                    content: '';\n                    display: block;\n                    padding-bottom: "+A.padding+"%;\n                }\n                "):n+="\n                position: absolute;\n                width: "+A.width+"px;\n                height: "+A.height+"px;\n                ",z.flip===!0&&(n+="\n                -webkit-transform: scaleX(-1);\n                -moz-transform: scaleX(-1);\n                -ms-transform: scaleX(-1);\n                -o-transform: scaleX(-1);\n                transform: scaleX(-1);\n                filter: FlipH;\n                -ms-filter: 'FlipH';\n                "),null===S&&(t+="\n                background: url('"+O.src+"') no-repeat 0 0%;\n                background-size: "+_+"%;\n                background-position: 0 0;\n                "),z.proxy!==!1&&(e+="\n                #spritz-proxy-"+M+" {\n                    position: absolute;\n                    left: 0;\n                    top: 0;\n                    width: 100%;\n                    height: 100%;\n                    opacity: 0;\n                    background-repeat: no-repeat;\n                    background-size: 100%;\n                    background-position: 0 0;\n                }\n\n                #spritz-"+M+".proxy-visible #spritz-svg-"+M+" {\n                    transition: opacity 0s linear .4s;\n                    opacity: 0;\n                }\n\n                #spritz-"+M+".proxy-visible #spritz-proxy-"+M+" {\n                    transition: opacity .4s linear;\n                    opacity: 1;\n                }\n                "),e+="\n            #spritz-"+M+" {\n                left: 50%;\n                top: 50%;\n                -webkit-transform: translate(-50%, -50%);\n                -moz-transform: translate(-50%, -50%);\n                -ms-transform: translate(-50%, -50%);\n                -o-transform: translate(-50%, -50%);\n                transform: translate(-50%, -50%);\n                overflow: hidden;\n                "+t+"\n                "+n+"\n            }\n            ",C=document.createElement("style"),C.innerHTML=e,C.appendChild(document.createTextNode("")),document.head.appendChild(C)}}function l(n){return new Promise(function(t,e){"undefined"==typeof q[n]?!function(){var e=new Image;e.onload=function(){q[n]=e,t(q[n])},e.src=n}():t(q[n])})}function c(){return N<z.steps?N+1:1}function d(){return N>1?N-1:z.steps}function f(n){if("undefined"!=typeof z.proxy[n]&&(null===j&&(j=document.createElement("div"),E.appendChild(j).setAttribute("id","spritz-proxy-"+M)),null!==j)){var t=z.proxy[n];l(t).then(function(n){j.style.backgroundImage='url("'+n.getAttribute("src")+'")',E.classList.add("proxy-visible")})}}function p(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null!==t&&(z.initial=t),n(P).then(function(){return F.emit("init")})}function h(){n(V).then(function(){return F.emit("build")})}function m(){return C.parentNode.removeChild(C),E.parentNode.removeChild(E),O=C=E=S=j=T=null,q=[],F.emit("destroy")}function g(){null===O&&(O=new Image,O.onload=function(){return F.emit("load")},O.src=z.src)}function v(){return i}function w(){return N}function x(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(null!=C&&null!=E&&null!=O){"next"===n&&(n=c()),"prev"===n&&(n=d()),E.classList.remove("proxy-visible");var t=n-1,e=z.rows-1,r=A.columns-1,i=100/r*(t%A.columns),o=100/e*Math.floor(t/A.columns);return null!==S?(i=i*r/100*A.width,o=o*e/100*A.height,S.setAttribute("viewBox",""+i+" "+o+" "+A.width+" "+A.height+" ")):E.style.backgroundPosition=""+i+"% "+o+"%",N=n,clearTimeout(T),T=setTimeout(function(){f(n)},500),F.emit("change")}}function y(n){var t=Math.round(100*n*z.steps/100);return 0===t&&t++,x(t)}function b(n){arguments.length<=1||void 0===arguments[1]?12:arguments[1],arguments.length<=2||void 0===arguments[2]?"ease":arguments[2]}var k=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],z={container:k.container||"body",steps:k.steps,initial:k.initial||1,rows:k.rows||1,width:k.width,height:k.height,flip:k.flip||!1,responsive:k.responsive||!1,src:k.src,mask:k.mask||!1,proxy:k.proxy||!1},M=s["default"].generate(),O=null,C=null,E=null,S=null,j=null,q=[],T=null,_=null,A={columns:null,padding:null,width:null,height:null},N=null,V=[t,e,r,a,u],P=[g,h],F=(0,o["default"])({init:p,load:g,build:h,destroy:m,changeStep:x,changeProgress:y,animateStep:b,getCurrentStep:w,isMaskingSupported:v});return F},t.exports=e["default"]},{"knot.js":1,shortid:2}]},{},[11])(11)});
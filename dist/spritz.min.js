/*!
 * spritz.js 1.0.0 - A small, modern, dependency-free sprites animation library.
 * Copyright (c) 2016 maoosi <hello@sylvainsimao.fr> - https://github.com/maoosi/spritz.js
 * License: MIT
 */!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Spritz=t()}}(function(){var t;return function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.Knot=i()}(this,function(){"use strict";var t={};t["extends"]=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var e=function(){function e(t,e){return s[t]=s[t]||[],s[t].push(e),this}function n(t,n){return n._once=!0,e(t,n),this}function r(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return e?s[t].splice(s[t].indexOf(e),1):delete s[t],this}function i(t){for(var e=this,n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];var u=s[t]&&s[t].slice();return u&&u.forEach(function(n){n._once&&r(t,n),n.apply(e,i)}),this}var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],s={};return t["extends"]({},o,{on:e,once:n,off:r,emit:i})};return e})},{}],2:[function(t,e,n){"use strict";e.exports=t("./lib/index")},{"./lib/index":6}],3:[function(t,e,n){"use strict";function r(){f=!1}function i(t){if(!t)return void(c!==h&&(c=h,r()));if(t!==c){if(t.length!==h.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. These characters were not unique: "+e.join(", "));c=t,r()}}function o(t){return i(t),c}function s(t){p.seed(t),d!==t&&(r(),d=t)}function u(){c||i(h);for(var t,e=c.split(""),n=[],r=p.nextValue();e.length>0;)r=p.nextValue(),t=Math.floor(r*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function a(){return f?f:f=u()}function l(t){var e=a();return e[t]}var c,d,f,p=t("./random/random-from-seed"),h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:o,seed:s,lookup:l,shuffled:a}},{"./random/random-from-seed":9}],4:[function(t,e,n){"use strict";function r(t){var e=i.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var i=t("./alphabet");e.exports=r},{"./alphabet":3}],5:[function(t,e,n){"use strict";function r(t,e){for(var n,r=0,o="";!n;)o+=t(e>>4*r&15|i()),n=e<Math.pow(16,r+1),r++;return o}var i=t("./random/random-byte");e.exports=r},{"./random/random-byte":8}],6:[function(t,e,n){"use strict";function r(){var t="",e=Math.floor(.001*(Date.now()-p));return e===a?u++:(u=0,a=e),t+=c(l.lookup,h),t+=c(l.lookup,m),u>0&&(t+=c(l.lookup,u)),t+=c(l.lookup,e)}function i(t){return l.seed(t),e.exports}function o(t){return m=t,e.exports}function s(t){return void 0!==t&&l.characters(t),l.shuffled()}var u,a,l=t("./alphabet"),c=t("./encode"),d=t("./decode"),f=t("./is-valid"),p=1459707606518,h=6,m=t("./util/cluster-worker-id")||0;e.exports=r,e.exports.generate=r,e.exports.seed=i,e.exports.worker=o,e.exports.characters=s,e.exports.decode=d,e.exports.isValid=f},{"./alphabet":3,"./decode":4,"./encode":5,"./is-valid":7,"./util/cluster-worker-id":10}],7:[function(t,e,n){"use strict";function r(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=i.characters(),n=t.length,r=0;n>r;r++)if(-1===e.indexOf(t[r]))return!1;return!0}var i=t("./alphabet");e.exports=r},{"./alphabet":3}],8:[function(t,e,n){"use strict";function r(){if(!i||!i.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return i.getRandomValues(t),48&t[0]}var i="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=r},{}],9:[function(t,e,n){"use strict";function r(){return o=(9301*o+49297)%233280,o/233280}function i(t){o=t}var o=1;e.exports={nextValue:r,seed:i}},{}],10:[function(t,e,n){"use strict";e.exports=0},{}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("knot.js"),o=r(i),s=t("shortid"),u=r(s);n["default"]=function(){function t(t){return new Promise(function(e,n){e(t.forEach(function(t){return t()}))})}function e(){_.columns=Math.ceil(z.steps/z.rows),q=100*_.columns,_.width=z.width/_.columns,_.width=(Math.round(1e3*_.width/10)/100).toFixed(2),_.height=z.height/z.rows,_.height=(Math.round(1e3*_.height/10)/100).toFixed(2),_.padding=100*_.height*100/(100*_.width)}function n(){null===T&&(T=document.createElement("div"),document.querySelector(z.container).appendChild(T),T.setAttribute("id","spritz-"+M),T.setAttribute("aria-hidden","true"),T.setAttribute("role","presentation"),T.setAttribute("tabindex","-1"))}function r(){if(i()&&z.mask!==!1&&null===O){var t='\n            <svg id="spritz-svg-'+M+'" preserveAspectRatio="xMinYMin" width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" role="img" aria-labelledby="title-svg-'+M+" desc-svg-"+M+'" viewBox="0 0 '+_.width+" "+_.height+'">\n                <title id="title-svg-'+M+'">'+z.ariaTitle+'</title>\n                <desc id="desc-svg-'+M+'">'+z.ariaDescription+'</desc>\n                <defs>\n                    <mask id="spritzTopMask">\n                        <image width="'+z.width+'" height="'+z.height+'" role="presentation" xlink:href="'+z.mask+'"></image>\n                    </mask>\n                </defs>\n                <image mask="url(#spritzTopMask)" id="spritzTop" role="presentation" width="'+z.width+'" height="'+z.height+'" xlink:href="'+z.src+'"></image>\n            </svg>\n            ';document.querySelector("#spritz-"+M).innerHTML=t,O=document.querySelector("#spritz-svg-"+M)}}function i(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0?!1:!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}function s(){x(z.initial)}function a(){if(null===S&&null!=A){var t="",e="",n="";z.responsive===!0?(t+="\n                position: relative;\n                width: 100%;\n                ",n+="\n                #spritz-"+M+"::after {\n                    content: '';\n                    display: block;\n                    padding-bottom: "+_.padding+"%;\n                }\n                "):t+="\n                position: absolute;\n                width: "+_.width+"px;\n                height: "+_.height+"px;\n                ",z.flip===!0&&(t+="\n                -webkit-transform: scaleX(-1);\n                -moz-transform: scaleX(-1);\n                -ms-transform: scaleX(-1);\n                -o-transform: scaleX(-1);\n                transform: scaleX(-1);\n                filter: FlipH;\n                -ms-filter: 'FlipH';\n                "),null===O&&(e+="\n                background: url('"+A.src+"') no-repeat 0 0%;\n                background-size: "+q+"%;\n                background-position: 0 0;\n                "),z.proxy!==!1&&(n+="\n                #spritz-proxy-"+M+" {\n                    position: absolute;\n                    left: 0;\n                    top: 0;\n                    width: 100%;\n                    height: 100%;\n                    opacity: 0;\n                    background-repeat: no-repeat;\n                    background-size: 100%;\n                    background-position: 0 0;\n                }\n\n                #spritz-"+M+".proxy-visible #spritz-svg-"+M+" {\n                    transition: opacity 0s linear .4s;\n                    opacity: 0;\n                }\n\n                #spritz-"+M+".proxy-visible #spritz-proxy-"+M+" {\n                    transition: opacity .4s linear;\n                    opacity: 1;\n                }\n                "),n+="\n            #spritz-"+M+" {\n                left: 50%;\n                top: 50%;\n                -webkit-transform: translate(-50%, -50%);\n                -moz-transform: translate(-50%, -50%);\n                -ms-transform: translate(-50%, -50%);\n                -o-transform: translate(-50%, -50%);\n                transform: translate(-50%, -50%);\n                overflow: hidden;\n                outline: 0;\n                "+e+"\n                "+t+"\n            }\n            ",S=document.createElement("style"),S.innerHTML=n,S.appendChild(document.createTextNode("")),document.head.appendChild(S)}}function l(t){return new Promise(function(e,n){"undefined"==typeof E[t]?!function(){var n=new Image;n.onload=function(){E[t]=n,e(E[t])},n.src=t}():e(E[t])})}function c(){return D<z.steps?D+1:1}function d(){return D>1?D-1:z.steps}function f(t){if("undefined"!=typeof z.proxy[t]&&(null===C&&(C=document.createElement("div"),C.setAttribute("role","img"),C.setAttribute("aria-label",z.ariaDescription),T.appendChild(C).setAttribute("id","spritz-proxy-"+M)),null!==C)){var e=z.proxy[t];l(e).then(function(t){C.style.backgroundImage='url("'+t.getAttribute("src")+'")',T.classList.add("proxy-visible")})}}function p(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null!==e&&(z.initial=e),t(V).then(function(){return P.emit("init")})}function h(){t(N).then(function(){return P.emit("build")})}function m(){return S.parentNode.removeChild(S),T.parentNode.removeChild(T),A=S=T=O=C=j=null,E=[],P.emit("destroy")}function g(){null===A&&(A=new Image,A.onload=function(){return P.emit("load")},A.src=z.src)}function v(){return i}function w(){return D}function x(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(null!=S&&null!=T&&null!=A){"next"===t&&(t=c()),"previous"===t&&(t=d()),T.classList.remove("proxy-visible");var e=t-1,n=z.rows-1,r=_.columns-1,i=100/r*(e%_.columns),o=100/n*Math.floor(e/_.columns);return null!==O?(i=i*r/100*_.width,o=o*n/100*_.height,O.setAttribute("viewBox",""+i+" "+o+" "+_.width+" "+_.height+" ")):T.style.backgroundPosition=""+i+"% "+o+"%",D=t,clearTimeout(j),j=setTimeout(function(){f(t)},500),P.emit("change")}}function b(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=Math.round(100*t*z.steps/100);return 0===e&&e++,x(e)}function y(t){arguments.length<=1||void 0===arguments[1]?12:arguments[1],arguments.length<=2||void 0===arguments[2]?"ease":arguments[2]}var k=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],z={container:k.container||"body",steps:k.steps,initial:k.initial||1,rows:k.rows||1,width:k.width,height:k.height,flip:k.flip||!1,responsive:k.responsive||!1,src:k.src,mask:k.mask||!1,proxy:k.proxy||!1,ariaTitle:k.ariaTitle||"Sprite image",ariaDescription:k.ariaDescription||"Sprite image used for presentation purpose"},M=u["default"].generate(),A=null,S=null,T=null,O=null,C=null,E=[],j=null,q=null,_={columns:null,padding:null,width:null,height:null},D=null,N=[e,n,r,a,s],V=[g,h],P=(0,o["default"])({init:p,load:g,build:h,destroy:m,changeStep:x,changeProgress:b,animateStep:y,getCurrentStep:w,isMaskingSupported:v});return P},e.exports=n["default"]},{"knot.js":1,shortid:2}]},{},[11])(11)});